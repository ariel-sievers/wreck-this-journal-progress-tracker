function searchOnEnter(event){const key=event.key||event.keyCode,terms=document.querySelector("#search-options input").value.trim();"Enter"!==key&&13!==key||""===terms||search()}function search(){if(window.innerWidth<=533&&!window.location.href.includes("/search"))window.location.href="/search/results.html";else{const terms=document.querySelector("#search-options input").value;(new SearchService).updateTerms(terms),window.location.href="/search/results.html"}}function getSearchResults(terms){let list;return[...(new PagesService).getPages().values()].filter(page=>{const title=page.title.trim().toLowerCase().split("--")[0],pageNumber=page.pageNumber;return title.includes(terms)||pageNumber===parseInt(terms)})}function filter(event=null,filterValue=""){let value;switch(value=""===filterValue&&null!==event?event.target.value:""!==filterValue?filterValue:"none",value){case"favorites":loadList(null,!0);break;case"none":loadList(null,!1);break;case"complete":loadList(!0,!1);break;case"incomplete":loadList(!1,!1)}if(document.querySelector("#list.list")&&""===filterValue){const ps=new PagesService,itemNumber=document.querySelectorAll(".checkbox").length;console.log(itemNumber);let itemsPerPage=12;if(itemNumber<=6)ps.paginateAfterFilter(itemNumber,1),ps.displayPaginator(itemNumber,1,itemNumber);else{for(;itemNumber/itemsPerPage<=1&&itemsPerPage>=6;)itemsPerPage-=2;ps.paginateAfterFilter(itemsPerPage,1),ps.displayPaginator(itemsPerPage)}}}function seeDetails(pageNumber){const page=(new PagesService).getPage(pageNumber);page?((new SelectionService).select(page.pageNumber),window.location.href="/pages/details.html"):window.location.href="/404.html"}function goBack(){(new SearchService).removeTerms(),window.location.href="/"}window.onload=function(){if(window.location.href.includes("/search/results.html")){const searchService=new SearchService,terms=searchService.getTerms(),resultList=document.querySelector("#results");document.getElementById("terms").innerHTML=`for "${terms}"`;let list=getSearchResults(terms);for(let i=0;i<list.length;i++){const page=list[i];resultList.innerHTML+=`<div class="page-card" onclick="seeDetails(${page.pageNumber})">\n                <i class="fas fa-star"></i>\n                <span class="title">Page ${page.pageNumber}: ${page.title}</span>`,resultList.innerHTML+="</div>",page.favorited&&resultList.querySelectorAll(".fa-star")[i].classList.add("favorite")}}};